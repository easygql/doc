(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{336:function(a,e,t){"use strict";t.r(e);var s=t(33),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"easygql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#easygql"}},[a._v("#")]),a._v(" EasyGQL")]),a._v(" "),t("p",[a._v("EasyGQL（Easy GraphQL）[github网址：https://easygql.github.io/doc/]是由[Zukdoor][https://zukdoor.cloud]于2020年2月份推出的一款多数据库支持的实时GraphQL 引擎。能够让开发者非常方便的进行GraphQL类型定义，并能够为开发者灵活的提供各种类型的graphql接口.\n"),t("img",{attrs:{src:"/doc/img/easygql_engine_architecture.png",alt:"EasyGQL架构"}})]),a._v(" "),t("ul",[t("li",[a._v("前端开发人员使用EasyGQL控制台，创建、维护和管理GraphQL Schema信息。")]),a._v(" "),t("li",[a._v("EasyGQL引擎根据定义好的Schema信息，提供可供前端开发人员直接使用的满足GraphQL规范的数据接口。")]),a._v(" "),t("li",[a._v("系统用户通过网页直接访问EasyGQL提供的数据接口，完成业务请求。")])]),a._v(" "),t("p",[a._v("用户可以通过使用已经在docker hub发布的EasyGQL镜像，快速使用了及了解EasyGQL的使用。")]),a._v(" "),t("h3",{attrs:{id:"快速部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速部署"}},[a._v("#")]),a._v(" 快速部署")]),a._v(" "),t("p",[a._v("第一步：获取docker-compose文件")]),a._v(" "),t("p",[a._v("从以下路径获取EasyGQL的docker-compose文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# in a new directory\nwget https://raw.githubusercontent.com/easygql/easygql-engine/master/docker-compose.yml\n")])])]),t("h3",{attrs:{id:"第二步：启动easygql和postgresql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二步：启动easygql和postgresql"}},[a._v("#")]),a._v(" 第二步：启动EasyGQL和PostgreSQL")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker-compose up -d\n")])])]),t("p",[a._v("检查一下容器正在运行：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('$ docker ps\n13d6e5cb0a6f        easygql_engine      "java -Djava.securit…"   2 weeks ago         Up 2 seconds        0.0.0.0:9995->9995/tcp   easygql_engine\ne2c3081210f2        postgres            "docker-entrypoint.s…"   2 weeks ago         Up 24 hours         0.0.0.0:5432->5432/tcp   easygql_postgresql\n\n')])])]),t("h3",{attrs:{id:"第三步：打开easygql控制台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三步：打开easygql控制台"}},[a._v("#")]),a._v(" 第三步：打开EasyGQL控制台")]),a._v(" "),t("p",[a._v("在浏览器中输入http://http://127.0.0.1:9995/dataexplorer/schemadb,进入graphiql界面，进行API调试\n"),t("img",{attrs:{src:"/doc/img/graphiql.png",alt:"new_chatdemo"}})]),a._v(" "),t("h3",{attrs:{id:"第四步-创建聊天室"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第四步-创建聊天室"}},[a._v("#")]),a._v(" 第四步:创建聊天室")]),a._v(" "),t("h4",{attrs:{id:"_4-1-创建一个schema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-创建一个schema"}},[a._v("#")]),a._v(" 4.1 创建一个Schema")]),a._v(" "),t("p",[a._v('使用API "SchemaCreate"进行Schema的创建，第一个参数name为schema名字，databaseKind默认值为PostgreSQL,description为schema的描述性文字。')]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('mutation  {\n SchemaCreate(name:"testcase1",databasekind:PostgreSQL,description:"testcase2"){\n   id_list\n   affected_rows\n }\n}\n')])])]),t("p",[a._v("返回值如下：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "data": {\n    "SchemaCreate": {\n      "id_list": [\n        "5ead209e857aba000157d91f"\n      ],\n      "affected_rows": 1\n    }\n  }\n}\n')])])]),t("h4",{attrs:{id:"_4-2-添加对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-添加对象"}},[a._v("#")]),a._v(" 4.2 添加对象")]),a._v(" "),t("p",[a._v('使用API "objecttypesInSchema_ObjectInput" 具体API含义见第六章对象类型。在这个API中，from_id表示Schema的ID，to_object为往schema中增加的对象类型列表。该API实现向已经创建好的Schema中新增一组对象类型。\n创建一个对象类型，必须字段有：')]),a._v(" "),t("ul",[t("li",[a._v("name表示对象类型的名字")]),a._v(" "),t("li",[a._v("description表示对象类型的描述性文字")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('mutation  {\n  objecttypesInSchema_ObjectInput(from_id:"5ead209e857aba000157d91f",to_object:[\n  {\n   name:"message",\n   description:" message information"\n  }\n  ]){\n   inputNestIDList  \n}\n}\n')])])]),t("p",[a._v("返回值如下：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "data": {\n    "objecttypesInSchema_ObjectInput": {\n      "inputNestIDList": [\n        "5e76ca2c158b0124a8ff7fe8"\n      ]\n    }\n  }\n}\n')])])]),t("p",[a._v("调用该API后，返回1个ID，对应message这个对象的ID")]),a._v(" "),t("h4",{attrs:{id:"_4-3-为对象添加字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-为对象添加字段"}},[a._v("#")]),a._v(" 4.3 为对象添加字段")]),a._v(" "),t("p",[a._v("使用scalarfieldsInContentType_ObjectInput为对象类型添加标量字段的API，其中from_id为对象类型的ID，to_object为新增字段的数组。\n新增一个标量字段有以下参数：")]),a._v(" "),t("ul",[t("li",[a._v("name为标量字段的字段名，必填")]),a._v(" "),t("li",[a._v("type为标量字段的字段类型，EasyGQL支持的标量类型见第三章标量类型。")]),a._v(" "),t("li",[a._v("description为标量字段的描述性文字。\n为聊天记录添加字段：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('mutation  {\n  scalarfieldsInContentType_ObjectInput(from_id:"5e76ca2c158b0124a8ff7fe9",to_object:[\n    { \n      name:"content",\n      type:String,\n      description:"content"  \n    },\n    {\n      \n      name:"from",\n      type:ID  ,\n      description:" room information"\n    },\n        {\n      \n      name:"timeinfo",\n      type:String  ,\n      description:"timeinfo"\n    }\n  ]){\n    inputNestIDList\n  }\n}\n\n')])])]),t("p",[a._v("返回值如下：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "data": {\n    "scalarfieldsInContentType_ObjectInput": {\n      "inputNestIDList": [\n        "5e76ca2c158b0124a8ff7ff2",\n        "5e76ca2c158b0124a8ff7ff3",\n        "5e76ca2c158b0124a8ff7ff4"\n      ]\n    }\n  }\n}\n')])])]),t("p",[a._v('从返回值可以看到content、from、timeinfo的ID分别为"5e76ca2c158b0124a8ff7ff2"、"5e76ca2c158b0124a8ff7ff3"、"5e76ca2c158b0124a8ff7ff4"。')]),a._v(" "),t("h4",{attrs:{id:"_4-4-发布并启动schema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-发布并启动schema"}},[a._v("#")]),a._v(" 4.4 发布并启动Schema")]),a._v(" "),t("p",[a._v("Schema得发布并启动才能正式对外提供服务，SchemaPublish这个接口默认会将当前最新的Schema信息发布成GraphQL接口并启动Schema。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('mutation {\n  SchemaPublish(schemaid:"5ead209e857aba000157d91f") {\n    OperationResult\n  }\n}\n')])])]),t("p",[a._v("返回值如下：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "data": {\n    "SchemaPublish": {\n      "OperationResult": "true"\n    }\n  }\n}\n')])])]),t("p",[a._v("OperationResult表示发布并启动结果。")]),a._v(" "),t("h4",{attrs:{id:"_4-5-编写前端聊天室内程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-编写前端聊天室内程序"}},[a._v("#")]),a._v(" 4.5 编写前端聊天室内程序")]),a._v(" "),t("p",[a._v("具体代码见：github网址")]),a._v(" "),t("h4",{attrs:{id:"_4-6-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-测试"}},[a._v("#")]),a._v(" 4.6 测试")]),a._v(" "),t("p",[a._v("在工程代码下，输入")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm run serve\n")])])]),t("p",[a._v("打开浏览器，输入网址：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("http://localhost:8080/\n")])])]),t("p",[a._v("在界面上输入用户名，进入聊天室\n可以查看历史聊天记录，并与他人交互\n"),t("img",{attrs:{src:"/doc/img/chat_example1.png",alt:"聊天图片1"}}),a._v("\n![聊天图片2](/doc/img/chat_screenshot   .png)")])])}),[],!1,null,null,null);e.default=n.exports}}]);