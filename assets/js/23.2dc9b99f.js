(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{338:function(t,a,s){"use strict";s.r(a);var e=s(33),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"二、schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、schema"}},[t._v("#")]),t._v(" 二、Schema")]),t._v(" "),s("p",[t._v("Schema是EasyGQL引擎的核心，每一个用户都可以使用EasyGQL控制台，根据自己的业务的数据模型、用户模型以及权限结构来定义满足自身业务需要的GraphQL模型（即Schema）。正常情况（集成外部Schema除外）下，应该为每一个完整的业务系统单独设计Schema,不同Schema之间在数据模型、权限设置、用户模型以及数据库存储都应该是隔离的。")]),t._v(" "),s("h2",{attrs:{id:"_2-1-schema的数据模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-schema的数据模型"}},[t._v("#")]),t._v(" 2.1 Schema的数据模型")]),t._v(" "),s("p",[s("img",{attrs:{src:"/doc/img/schema_datamodel.png",alt:"EasyGQL架构"}}),t._v("\n上图是EasyGQL种的一个Schema的数据模型")]),t._v(" "),s("h2",{attrs:{id:"_2-2-schema的基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-schema的基本概念"}},[t._v("#")]),t._v(" 2.2 Schema的基本概念")]),t._v(" "),s("p",[t._v("在EasyGQL的一个Schema中主要涉及以下概念：")]),t._v(" "),s("ul",[s("li",[t._v("Schema，用于表示一个Schema对应的名字，描述，类型信息。")]),t._v(" "),s("li",[t._v("DataSource，用于表示这个Schema对应的数据库持久化地址，可以支持多类据库，主要有数据库IP、用户名、密码、连接字符串等信息。")]),t._v(" "),s("li",[t._v("ContentType，用于表示这个Schema对应的对象类型，有描述，类名，增、删、改、查的各类约束。")]),t._v(" "),s("li",[t._v("Trigger，用于表示这个Schema对应的触发器列表，主要有触发器名字，触发器远程URL，触发器参数列表，触发器payload模板，触发器成功标识等。")]),t._v(" "),s("li",[t._v("TriggerHisotry,触发器历史，每当触发器订阅的事件发生时，会在该表插入一条记录，记录事件内容，以及发送是否成功。")]),t._v(" "),s("li",[t._v("EnumType，枚举类型，表示这个Schema拥有的枚举类型，主要有类型名属性。")]),t._v(" "),s("li",[t._v("EnumElement，枚举类型元素，表示某一个枚举类型所对应的枚举值。")]),t._v(" "),s("li",[t._v("SchemaMetaData,一个已发布的schema对应的graphql属性值，主要有schemaobject(用于定义graphql实例)，版本号，对应schemaid。")]),t._v(" "),s("li",[t._v("ThirdAPI,用于表示一个Schema启用的API列表以及每个API的角色权限信息。")]),t._v(" "),s("li",[t._v("RelationField，用于表示一个ContentType对应的关系型字段信息，用于将一个ContentType对象作为别的ContentType的字段。")]),t._v(" "),s("li",[t._v("EnumField，用于表示一个ContentType所拥有的枚举类型字段")]),t._v(" "),s("li",[t._v("ScalarField，用于表示一个ContentType所用于的标量类型字段。")]),t._v(" "),s("li",[t._v("UniqueConstraint，用于定义一个ContentType的复合唯一索引。")])]),t._v(" "),s("h2",{attrs:{id:"_2-3-schema管理api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-schema管理api"}},[t._v("#")]),t._v(" 2.3 Schema管理API")]),t._v(" "),s("h3",{attrs:{id:"_2-3-1-新建schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-新建schema"}},[t._v("#")]),t._v(" 2.3.1 新建Schema")]),t._v(" "),s("ol",[s("li",[t._v("新建一个Schema使用如下API：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaCreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("databasekind"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DatabaseKind "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PostgreSQL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaCreate_ThirdOutput\n")])])]),s("h3",{attrs:{id:"_2-3-2-修改schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-修改schema"}},[t._v("#")]),t._v(" 2.3.2 修改Schema")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n  input SchemaUpdateInput "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  databasekind"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DatabaseKind\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  status"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaStatus\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-3-3-删除schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-删除schema"}},[t._v("#")]),t._v(" 2.3.3 删除Schema")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n  input SchemaListMatch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  hasone"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaWhereInput\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninput SchemaWhereInput "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  and"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SchemaWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  field_contains"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  filter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaFieldFilter\n  not"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaWhereInput\n  or"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SchemaWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninput SchemaFieldFilter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  datasource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DataSourceFieldFilter\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StringFilter\n  enumtypes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumTypeListMatch\n  id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IDFilter\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StringFilter\n  objecttypes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeListMatch\n  published_history"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaMetaDataListMatch\n  published_schema"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaMetaDataFieldFilter\n  relations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldListMatch\n  thirdapis"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ThirdAPIListMatch\n  triggerhistory"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TriggerHistoryListMatch\n  triggers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TriggerListMatch\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-3-4-设置datasource"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-设置datasource"}},[t._v("#")]),t._v(" 2.3.4 设置DataSource")]),t._v(" "),s("p",[t._v("1.设置DataSource使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("datasourceInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DataSourceInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("p",[t._v("如果不设置DataSource，则会使用默认的数据库API。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-5-修改datasource"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-修改datasource"}},[t._v("#")]),t._v(" 2.3.5 修改DataSource")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DataSourceUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DataSourceUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DataSourceWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n")])])]),s("h3",{attrs:{id:"_2-3-6-删除datasource"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-6-删除datasource"}},[t._v("#")]),t._v(" 2.3.6 删除DataSource")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DataSourceDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DataSourceWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("h3",{attrs:{id:"_2-3-7-新建enumtype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-7-新建enumtype"}},[t._v("#")]),t._v(" 2.3.7 新建EnumType")]),t._v(" "),s("p",[t._v("1.添加EnumElent使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("enumtypesInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("EnumTypeInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("h3",{attrs:{id:"_2-3-8-修改enumtype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-8-修改enumtype"}},[t._v("#")]),t._v(" 2.3.8 修改EnumType")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumTypeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumTypeUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n")])])]),s("h3",{attrs:{id:"_2-3-9-删除enumtype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-9-删除enumtype"}},[t._v("#")]),t._v(" 2.3.9 删除EnumType")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumTypeDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("h3",{attrs:{id:"_2-3-10-添加enumelement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-10-添加enumelement"}},[t._v("#")]),t._v(" 2.3.10 添加EnumElement")]),t._v(" "),s("p",[t._v("1.在EnumType中，新增枚举值，使用如下API：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("valuesInEnumType_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("EnumElementInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("h3",{attrs:{id:"_2-3-11-修改enumelement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-11-修改enumelement"}},[t._v("#")]),t._v(" 2.3.11 修改EnumElement")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumElementUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumElementUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumElementWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n")])])]),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-12-删除enumelement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-12-删除enumelement"}},[t._v("#")]),t._v(" 2.3.12 删除EnumElement")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumElementDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumElementWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("h3",{attrs:{id:"_2-3-13-新建role"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-13-新建role"}},[t._v("#")]),t._v(" 2.3.13 新建Role")]),t._v(" "),s("p",[t._v('在Schema创建是默认会创建一个ID 为schemaID+"_role"的一个枚举类型，用以表示角色，新增角色使用如下API:')]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("valuesInEnumType_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("EnumElementInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("h3",{attrs:{id:"_2-3-14-修改role"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-14-修改role"}},[t._v("#")]),t._v(" 2.3.14 修改Role")]),t._v(" "),s("p",[t._v("参考修改EnumType")]),t._v(" "),s("h3",{attrs:{id:"_2-3-15-删除role"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-15-删除role"}},[t._v("#")]),t._v(" 2.3.15 删除Role")]),t._v(" "),s("p",[t._v("参考删除EnumType")]),t._v(" "),s("h3",{attrs:{id:"_2-3-16-新建contenttype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-16-新建contenttype"}},[t._v("#")]),t._v(" 2.3.16 新建ContentType")]),t._v(" "),s("p",[t._v("在新建一个ContentType时，需要以下步骤：")]),t._v(" "),s("ol",[s("li",[t._v("先新建ContentType类型，并设置各个角色的权限,使用如下API：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("objecttypesInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContentTypeInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("p",[t._v("其中from_id为对应Schema的ID，to_object是需要新增的object的输入对象列表，reset表示是否重置schema下的所有object列表，如果为true，schema下面的原来所有objecttype都将会被删除。")]),t._v(" "),s("p",[t._v("ContentTypeInput的结构如下：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("input ContentTypeInput  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  delete_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  read_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n  undeletable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  uninsertable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  unreadable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  unupdatable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  update_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在以上输入结构中，有禁止读的角色列表、禁止写的角色列表、禁止插入角色列表、禁止更新角色列表，这些列表默认均为空，表示所有角色均能进行增删改查，还有各角色的删改查行级约束条件，以read_constraints为例，这是一个以角色名为key值，以ContentTypeWhereInput为value的键值对。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("input ContentTypeWhereInput  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  and"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  field_contains"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  filter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeFieldFilter\n  not"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeWhereInput\n  or"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("设置标量字段，使用API")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scalarfieldsInContentType_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ScalarFieldInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("p",[t._v("其中from_id为对应objectType的ID，to_object是需要新增标量字段的输入对象列表，reset表示是否重置。")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("设置枚举字段，使用API")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("enumfieldsInContentType_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("EnumFieldInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("p",[t._v("其中from_id为对应objectType的ID，to_object是需要新增枚举字段的输入对象列表，reset表示是否重置。")]),t._v(" "),s("p",[t._v("其中from_id为对应Schema的ID")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("新增关联关系，使用API")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("relationsInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("RelationFieldInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult \n  input RelationFieldInput "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fromfield"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  fromobject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("\n  ifcascade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  invisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  irrevisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  relationtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  tofield"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  toobject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("其中，from_id表示schema的ID，")]),t._v(" "),s("h3",{attrs:{id:"_2-3-17-修改contenttype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-17-修改contenttype"}},[t._v("#")]),t._v(" 2.3.17 修改ContentType")]),t._v(" "),s("p",[t._v("修改一个ContentType时，根据修改内容的不通，分别可以调用一下Api")]),t._v(" "),s("ol",[s("li",[t._v("修改ContentType类型，使用如下API：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContentTypeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult\n  input ContentTypeUpdateInput  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  delete_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  read_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n  undeletable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  uninsertable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  unreadable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  unupdatable_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  update_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninput ContentTypeWhereInput  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  and"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  field_contains"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  filter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeFieldFilter\n  not"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeWhereInput\n  or"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninput ContentTypeFieldFilter  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StringFilter\n  enumfields"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumFieldListMatch\n  fromrelations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldListMatch\n  id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IDFilter\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StringFilter\n  objecttypes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeFieldFilter\n  scalarfields"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ScalarFieldListMatch\n  torelations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldListMatch\n  unique_constraints"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" UniqueConstraintListMatch\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("修改枚举字段")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumFieldUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumFieldUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumFieldWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult\ninput EnumFieldUpdateInput  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  defaultvalue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object\n  invisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  irrevisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  islist"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("4.修改枚举类型字段")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("RelationFieldUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n  input RelationFieldUpdateInput "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fromfield"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  fromobject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  ifcascade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean\n  invisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  irrevisible_roles"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Role"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  relationtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationType\n  tofield"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n  toobject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-3-18-删除contenttype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-18-删除contenttype"}},[t._v("#")]),t._v(" 2.3.18 删除ContentType")]),t._v(" "),s("p",[t._v("1.删除ContentType")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContentTypeDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ContentTypeWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("p",[t._v("2.删除ScalarField")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ScalarFieldDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ScalarFieldWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("p",[t._v("3.删除EnumField")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EnumFieldDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" EnumFieldWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("p",[t._v("4.删除RelationField")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("RelationFieldDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RelationFieldWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("h3",{attrs:{id:"_2-3-19-新建trigger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-19-新建trigger"}},[t._v("#")]),t._v(" 2.3.19 新建Trigger")]),t._v(" "),s("p",[t._v("1.新建Trigger时，使用如下API")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggersInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("TriggerInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("h3",{attrs:{id:"_2-3-20-修改trigger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-20-修改trigger"}},[t._v("#")]),t._v(" 2.3.20 修改Trigger")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TriggerUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TriggerUpdateInput"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TriggerWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _UpdateResult \n")])])]),s("h3",{attrs:{id:"_2-3-21-删除trigger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-21-删除trigger"}},[t._v("#")]),t._v(" 2.3.21 删除Trigger")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TriggerDestroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("where"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TriggerWhereInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _DeleteResult \n")])])]),s("h3",{attrs:{id:"_2-3-22-设置thirdapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-22-设置thirdapi"}},[t._v("#")]),t._v(" 2.3.22 设置ThirdAPI")]),t._v(" "),s("p",[t._v("1.在设置API前，需要了解当前可以使用的API,使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("ThirdAPIMany"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ThirdAPIMany_ThirdOutput\n")])])]),s("p",[t._v("2.设置thirdapi:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("thirdapisInSchema_ObjectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ThirdAPIInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestInputResult\n")])])]),s("h3",{attrs:{id:"_2-3-23-删除thirdapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-23-删除thirdapi"}},[t._v("#")]),t._v(" 2.3.23 删除ThirdAPI")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("thirdapisInSchema_NestRemove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("from_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _NestRemoveResult \n")])])]),s("h3",{attrs:{id:"_2-3-24-发布schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-24-发布schema"}},[t._v("#")]),t._v(" 2.3.24 发布Schema")]),t._v(" "),s("p",[t._v("1.schema的发布使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaPublish")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaPublish_ThirdOutput\n")])])]),s("h3",{attrs:{id:"_2-3-25-schema的启停"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-25-schema的启停"}},[t._v("#")]),t._v(" 2.3.25 Schema的启停")]),t._v(" "),s("p",[t._v("1.schema的启动使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaStart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaStart_ThirdOutput\n")])])]),s("p",[t._v("2.schema的关闭使用如下API:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SchemaStop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SchemaStop_ThirdOutput\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);